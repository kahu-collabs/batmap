(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
L.mapbox.accessToken = 'pk.eyJ1IjoicGV0dHljcmltZSIsImEiOiJjaWY0cTBoZDgwbXl0c2RtN2ZjYzhicjZoIn0.FDjxXktw-rA-U-qobjyNxQ';

var geoJson = []
var map = L.mapbox.map(document.getElementById('map'), 'pettycrime.nj17g72j')
    .setView([-41.29, 174.78], 13);

var myLayer = L.mapbox.featureLayer().addTo(map);
var latlng = []



render();




var click = document.getElementById('click')

map.on('click', function(e) {
	console.log(e.latlng.lng)
	console.log(e.latlng.lat)
	latlng = [e.latlng.lng, e.latlng.lat]
	console.log(latlng)
	$.featherlight($('#example'));
	});



$('#example').submit(function(event){
	event.preventDefault();
	var type = testType(event.target[0].value);


	var to_db = {category_type: type, description: event.target[1].value, happened_before: event.target[2].checked, location: latlng.join() };
	console.log("onclick " + to_db["category_type"])
	submitCrime(to_db);


})


function testType(type){
	if (type == "Joker Gassing"){
		return 1
	}
	else if (type == "Mugging"){
		return 2
	}
	else if (type == "Home Invasion"){
		return 3
	}
	else {return 4}
}

function submitCrime(input){

	$.ajax({
	  type: "POST",
	  url: "api/v1/reports",
	  data: input,
	  success: dropPin(input),
	  dataType: "json"
	});

	// $post(
	// 	url: "./api/v1/reports",
	// 	data: input,
	// 	success: dropPin(data),
	// 	)
}




function dropPin(object_with_data){

		var crimeObjects = [{
		       "type": "Feature",
		       "geometry": {
		           "type": "Point",
		           "coordinates": latlng
		       },
		       "properties": {
		           "title": "Joker Gassing",
		           "icon": {
		               "iconUrl": "assets/joker_pin.png",
		               "iconSize": [50, 50], // size of the icon
		               "iconAnchor": [25, 25], // point of the icon which will correspond to marker's location
		               "popupAnchor": [0, -25], // point from which the popup should open relative to the iconAnchor
		               "className": "dot"
		           }
		       }
		   }, {
		       "type": "Feature",
		       "geometry": {
		           "type": "Point",
		           "coordinates": latlng
		       },
		       "properties": {
		           "title": "Mugging",
		           "icon": {
		               "iconUrl": "assets/batpin.png",
		               "iconSize": [50, 50],
		               "iconAnchor": [25, 25],
		               "popupAnchor": [0, -25],
		               "className": "dot"
		           }
		       }
		   }, {
		       "type": "Feature",
		       "geometry": {
		           "type": "Point",
		           "coordinates": latlng
		       },
		       "properties": {
		           "title": "Home Invasion",
		           "icon": {
		               "iconUrl": "assets/home_invasion.png",
		               "iconSize": [50, 50],
		               "iconAnchor": [25, 25],
		               "popupAnchor": [0, -25],
		               "className": "dot"
		           }
		       }
		   }, {
		       "type": "Feature",
		       "geometry": {
		           "type": "Point",
		           "coordinates": latlng
		       },
		       "properties": {
		           "title": "Car Theft",
		           "icon": {
		               "iconUrl": "assets/car_thieft.png",
		               "iconSize": [50, 50],
		               "iconAnchor": [25, 25],
		               "popupAnchor": [0, -25],
		               "className": "dot"
		           }
		       }
		   }];




	x = (object_with_data["category_type"]) - 1;

	geoJson.push(crimeObjects[x])
	console.log(geoJson);
	render()


}


function render(){
	myLayer.on('layeradd', function(e) {
    var marker = e.layer,
        feature = marker.feature;

   marker.setIcon(L.icon(feature.properties.icon));

	});



	myLayer.setGeoJSON(geoJson);
}

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Vzci9sb2NhbC9saWIvbm9kZV9tb2R1bGVzL3dhdGNoaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvYXBwcmVudGljZS9qb3J5L3dvcmtzcGFjZS9iYXRtYXAvY2xpZW50L2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUEsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxXQUFXLEdBQUcsK0ZBQStGLENBQUM7O0FBRXZILElBQUksT0FBTyxHQUFHLEVBQUU7QUFDaEIsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsRUFBRSxxQkFBcUIsQ0FBQztBQUM3RSxLQUFLLE9BQU8sQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDOztBQUVuQyxJQUFJLE9BQU8sR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLFlBQVksRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNqRCxJQUFJLE1BQU0sR0FBRyxFQUFFO0FBQ2Y7QUFDQTs7QUFFQSxNQUFNLEVBQUUsQ0FBQztBQUNUO0FBQ0E7QUFDQTs7QUFFQSxJQUFJLEtBQUssR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQzs7QUFFNUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsU0FBUyxDQUFDLEVBQUU7Q0FDM0IsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQztDQUN6QixPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDO0NBQ3pCLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FB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OztBQUVBLENBQUM7QUFDRDs7QUFFQSxTQUFTLE1BQU0sRUFBRTtDQUNoQixPQUFPLENBQUMsRUFBRSxDQUFDLFVBQVUsRUFBRSxTQUFTLENBQUMsRUFBRTtJQUNoQyxJQUFJLE1BQU0sR0FBRyxDQUFDLENBQUMsS0FBSztBQUN4QixRQUFRLE9BQU8sR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDOztBQUVqQyxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7O0FBRW5ELEVBQUUsQ0FBQyxDQUFDO0FBQ0o7QUFDQTs7Q0FFQyxPQUFPLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0NBQzVCIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIkwubWFwYm94LmFjY2Vzc1Rva2VuID0gJ3BrLmV5SjFJam9pY0dWMGRIbGpjbWx0WlNJc0ltRWlPaUpqYVdZMGNUQm9aRGd3YlhsMGMyUnROMlpqWXpoaWNqWm9JbjAuRkRqeFhrdHctckEtVS1xb2JqeU54USc7XG5cbnZhciBnZW9Kc29uID0gW11cbnZhciBtYXAgPSBMLm1hcGJveC5tYXAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcCcpLCAncGV0dHljcmltZS5uajE3ZzcyaicpXG4gICAgLnNldFZpZXcoWy00MS4yOSwgMTc0Ljc4XSwgMTMpO1xuXG52YXIgbXlMYXllciA9IEwubWFwYm94LmZlYXR1cmVMYXllcigpLmFkZFRvKG1hcCk7XG52YXIgbGF0bG5nID0gW11cblxuXG5cbnJlbmRlcigpO1xuXG5cblxuXG52YXIgY2xpY2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xpY2snKVxuXG5tYXAub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXHRjb25zb2xlLmxvZyhlLmxhdGxuZy5sbmcpXG5cdGNvbnNvbGUubG9nKGUubGF0bG5nLmxhdClcblx0bGF0bG5nID0gW2UubGF0bG5nLmxuZywgZS5sYXRsbmcubGF0XVxuXHRjb25zb2xlLmxvZyhsYXRsbmcpXG5cdCQuZmVhdGhlcmxpZ2h0KCQoJyNleGFtcGxlJykpO1xuXHR9KTtcblxuXG5cbiQoJyNleGFtcGxlJykuc3VibWl0KGZ1bmN0aW9uKGV2ZW50KXtcblx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0dmFyIHR5cGUgPSB0ZXN0VHlwZShldmVudC50YXJnZXRbMF0udmFsdWUpO1xuXG5cblx0dmFyIHRvX2RiID0ge2NhdGVnb3J5X3R5cGU6IHR5cGUsIGRlc2NyaXB0aW9uOiBldmVudC50YXJnZXRbMV0udmFsdWUsIGhhcHBlbmVkX2JlZm9yZTogZXZlbnQudGFyZ2V0WzJdLmNoZWNrZWQsIGxvY2F0aW9uOiBsYXRsbmcuam9pbigpIH07XG5cdGNvbnNvbGUubG9nKFwib25jbGljayBcIiArIHRvX2RiW1wiY2F0ZWdvcnlfdHlwZVwiXSlcblx0c3VibWl0Q3JpbWUodG9fZGIpO1xuXG5cbn0pXG5cblxuZnVuY3Rpb24gdGVzdFR5cGUodHlwZSl7XG5cdGlmICh0eXBlID09IFwiSm9rZXIgR2Fzc2luZ1wiKXtcblx0XHRyZXR1cm4gMVxuXHR9XG5cdGVsc2UgaWYgKHR5cGUgPT0gXCJNdWdnaW5nXCIpe1xuXHRcdHJldHVybiAyXG5cdH1cblx0ZWxzZSBpZiAodHlwZSA9PSBcIkhvbWUgSW52YXNpb25cIil7XG5cdFx0cmV0dXJuIDNcblx0fVxuXHRlbHNlIHtyZXR1cm4gNH1cbn1cblxuZnVuY3Rpb24gc3VibWl0Q3JpbWUoaW5wdXQpe1xuXG5cdCQuYWpheCh7XG5cdCAgdHlwZTogXCJQT1NUXCIsXG5cdCAgdXJsOiBcImFwaS92MS9yZXBvcnRzXCIsXG5cdCAgZGF0YTogaW5wdXQsXG5cdCAgc3VjY2VzczogZHJvcFBpbihpbnB1dCksXG5cdCAgZGF0YVR5cGU6IFwianNvblwiXG5cdH0pO1xuXG5cdC8vICRwb3N0KFxuXHQvLyBcdHVybDogXCIuL2FwaS92MS9yZXBvcnRzXCIsXG5cdC8vIFx0ZGF0YTogaW5wdXQsXG5cdC8vIFx0c3VjY2VzczogZHJvcFBpbihkYXRhKSxcblx0Ly8gXHQpXG59XG5cblxuXG5cbmZ1bmN0aW9uIGRyb3BQaW4ob2JqZWN0X3dpdGhfZGF0YSl7XG5cblx0XHR2YXIgY3JpbWVPYmplY3RzID0gW3tcblx0XHQgICAgICAgXCJ0eXBlXCI6IFwiRmVhdHVyZVwiLFxuXHRcdCAgICAgICBcImdlb21ldHJ5XCI6IHtcblx0XHQgICAgICAgICAgIFwidHlwZVwiOiBcIlBvaW50XCIsXG5cdFx0ICAgICAgICAgICBcImNvb3JkaW5hdGVzXCI6IGxhdGxuZ1xuXHRcdCAgICAgICB9LFxuXHRcdCAgICAgICBcInByb3BlcnRpZXNcIjoge1xuXHRcdCAgICAgICAgICAgXCJ0aXRsZVwiOiBcIkpva2VyIEdhc3NpbmdcIixcblx0XHQgICAgICAgICAgIFwiaWNvblwiOiB7XG5cdFx0ICAgICAgICAgICAgICAgXCJpY29uVXJsXCI6IFwiYXNzZXRzL2pva2VyX3Bpbi5wbmdcIixcblx0XHQgICAgICAgICAgICAgICBcImljb25TaXplXCI6IFs1MCwgNTBdLCAvLyBzaXplIG9mIHRoZSBpY29uXG5cdFx0ICAgICAgICAgICAgICAgXCJpY29uQW5jaG9yXCI6IFsyNSwgMjVdLCAvLyBwb2ludCBvZiB0aGUgaWNvbiB3aGljaCB3aWxsIGNvcnJlc3BvbmQgdG8gbWFya2VyJ3MgbG9jYXRpb25cblx0XHQgICAgICAgICAgICAgICBcInBvcHVwQW5jaG9yXCI6IFswLCAtMjVdLCAvLyBwb2ludCBmcm9tIHdoaWNoIHRoZSBwb3B1cCBzaG91bGQgb3BlbiByZWxhdGl2ZSB0byB0aGUgaWNvbkFuY2hvclxuXHRcdCAgICAgICAgICAgICAgIFwiY2xhc3NOYW1lXCI6IFwiZG90XCJcblx0XHQgICAgICAgICAgIH1cblx0XHQgICAgICAgfVxuXHRcdCAgIH0sIHtcblx0XHQgICAgICAgXCJ0eXBlXCI6IFwiRmVhdHVyZVwiLFxuXHRcdCAgICAgICBcImdlb21ldHJ5XCI6IHtcblx0XHQgICAgICAgICAgIFwidHlwZVwiOiBcIlBvaW50XCIsXG5cdFx0ICAgICAgICAgICBcImNvb3JkaW5hdGVzXCI6IGxhdGxuZ1xuXHRcdCAgICAgICB9LFxuXHRcdCAgICAgICBcInByb3BlcnRpZXNcIjoge1xuXHRcdCAgICAgICAgICAgXCJ0aXRsZVwiOiBcIk11Z2dpbmdcIixcblx0XHQgICAgICAgICAgIFwiaWNvblwiOiB7XG5cdFx0ICAgICAgICAgICAgICAgXCJpY29uVXJsXCI6IFwiYXNzZXRzL2JhdHBpbi5wbmdcIixcblx0XHQgICAgICAgICAgICAgICBcImljb25TaXplXCI6IFs1MCwgNTBdLFxuXHRcdCAgICAgICAgICAgICAgIFwiaWNvbkFuY2hvclwiOiBbMjUsIDI1XSxcblx0XHQgICAgICAgICAgICAgICBcInBvcHVwQW5jaG9yXCI6IFswLCAtMjVdLFxuXHRcdCAgICAgICAgICAgICAgIFwiY2xhc3NOYW1lXCI6IFwiZG90XCJcblx0XHQgICAgICAgICAgIH1cblx0XHQgICAgICAgfVxuXHRcdCAgIH0sIHtcblx0XHQgICAgICAgXCJ0eXBlXCI6IFwiRmVhdHVyZVwiLFxuXHRcdCAgICAgICBcImdlb21ldHJ5XCI6IHtcblx0XHQgICAgICAgICAgIFwidHlwZVwiOiBcIlBvaW50XCIsXG5cdFx0ICAgICAgICAgICBcImNvb3JkaW5hdGVzXCI6IGxhdGxuZ1xuXHRcdCAgICAgICB9LFxuXHRcdCAgICAgICBcInByb3BlcnRpZXNcIjoge1xuXHRcdCAgICAgICAgICAgXCJ0aXRsZVwiOiBcIkhvbWUgSW52YXNpb25cIixcblx0XHQgICAgICAgICAgIFwiaWNvblwiOiB7XG5cdFx0ICAgICAgICAgICAgICAgXCJpY29uVXJsXCI6IFwiYXNzZXRzL2hvbWVfaW52YXNpb24ucG5nXCIsXG5cdFx0ICAgICAgICAgICAgICAgXCJpY29uU2l6ZVwiOiBbNTAsIDUwXSxcblx0XHQgICAgICAgICAgICAgICBcImljb25BbmNob3JcIjogWzI1LCAyNV0sXG5cdFx0ICAgICAgICAgICAgICAgXCJwb3B1cEFuY2hvclwiOiBbMCwgLTI1XSxcblx0XHQgICAgICAgICAgICAgICBcImNsYXNzTmFtZVwiOiBcImRvdFwiXG5cdFx0ICAgICAgICAgICB9XG5cdFx0ICAgICAgIH1cblx0XHQgICB9LCB7XG5cdFx0ICAgICAgIFwidHlwZVwiOiBcIkZlYXR1cmVcIixcblx0XHQgICAgICAgXCJnZW9tZXRyeVwiOiB7XG5cdFx0ICAgICAgICAgICBcInR5cGVcIjogXCJQb2ludFwiLFxuXHRcdCAgICAgICAgICAgXCJjb29yZGluYXRlc1wiOiBsYXRsbmdcblx0XHQgICAgICAgfSxcblx0XHQgICAgICAgXCJwcm9wZXJ0aWVzXCI6IHtcblx0XHQgICAgICAgICAgIFwidGl0bGVcIjogXCJDYXIgVGhlZnRcIixcblx0XHQgICAgICAgICAgIFwiaWNvblwiOiB7XG5cdFx0ICAgICAgICAgICAgICAgXCJpY29uVXJsXCI6IFwiYXNzZXRzL2Nhcl90aGllZnQucG5nXCIsXG5cdFx0ICAgICAgICAgICAgICAgXCJpY29uU2l6ZVwiOiBbNTAsIDUwXSxcblx0XHQgICAgICAgICAgICAgICBcImljb25BbmNob3JcIjogWzI1LCAyNV0sXG5cdFx0ICAgICAgICAgICAgICAgXCJwb3B1cEFuY2hvclwiOiBbMCwgLTI1XSxcblx0XHQgICAgICAgICAgICAgICBcImNsYXNzTmFtZVwiOiBcImRvdFwiXG5cdFx0ICAgICAgICAgICB9XG5cdFx0ICAgICAgIH1cblx0XHQgICB9XTtcblxuXG5cblxuXHR4ID0gKG9iamVjdF93aXRoX2RhdGFbXCJjYXRlZ29yeV90eXBlXCJdKSAtIDE7XG5cblx0Z2VvSnNvbi5wdXNoKGNyaW1lT2JqZWN0c1t4XSlcblx0Y29uc29sZS5sb2coZ2VvSnNvbik7XG5cdHJlbmRlcigpXG5cblxufVxuXG5cbmZ1bmN0aW9uIHJlbmRlcigpe1xuXHRteUxheWVyLm9uKCdsYXllcmFkZCcsIGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgbWFya2VyID0gZS5sYXllcixcbiAgICAgICAgZmVhdHVyZSA9IG1hcmtlci5mZWF0dXJlO1xuXG4gICBtYXJrZXIuc2V0SWNvbihMLmljb24oZmVhdHVyZS5wcm9wZXJ0aWVzLmljb24pKTtcblxuXHR9KTtcblxuXG5cblx0bXlMYXllci5zZXRHZW9KU09OKGdlb0pzb24pO1xufVxuIl19
